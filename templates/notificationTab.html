{% extends 'base.html' %} {% block content %}
{% load static %}
<div class="container-fluid">
    <p>
    </p>
    <div class="container-fluid">
        <p class="custom-msg">Your notifications</p>
        {% for noti in notificari %}
        <div class="input-group-append container_sw not_btn">
            <div class="content_sw">
                <button type="button" class="fav1_btn" data-toggle="modal" data-target="#favourites">{{ noti.coin_id|title }}</button>
                <span class="hello-msg">Initial Value {{ noti.intial_value }}</span>
                <span class="hello-msg">Final Value {{ noti.final_value }}</span>
            </div>
            <div class="toggle_sw">
                {% if noti.enabled %}
                <form name="myform" action="modifyNotification" method="POST">
                    {% csrf_token %}
                    <label class="switch">
                        <input type="hidden" name="crypto_id" value="{{ noti.coin_id }}">
                        <input type="hidden" name="state" value="">
                        <input type="checkbox" name="cbox" onchange="document.getElementsByName('myform')['{{ forloop.counter0 }}'].submit()"
                            checked>
                        <span class="slider round"></span>
                    </label>
                </form>
                {% else %}
                <form name="myform" action="modifyNotification" method="POST">
                    {% csrf_token %}
                    <label class="switch">
                        <input type="hidden" name="crypto_id" value="{{ noti.coin_id }}">
                        <input type="hidden" name="state" value="True">
                        <input type="checkbox" name="cbox" onchange="document.getElementsByName('myform')['{{ forloop.counter0 }}'].submit()">
                        <span class="slider round"></span>
                    </label>
                </form>
                {% endif %}
                <form action="deleteNotification" method="POST">
                    {% csrf_token %}
                    <input type="hidden" name="crypto_delete" value="{{ noti.coin_id }}">
                    <button class="fav1_btn toggle_sw" type="submit">
                        <svg height="30" width="30">
                            <line x1="0" y1="0" x2="30" y2="30" style="stroke:red; stroke-width:7" />
                             <line x1="30" y1="0" x2="0" y2="30" style="stroke:red; stroke-width:7" />
                        </svg>
                    </button>
                </form>
            </div>
        </div>
        {% endfor %}
        <button type="button" class="fav_btn" style="margin-top: 10vh;">Add Notfication</button>
    </div>
    <div class="modal fade" id="favourites" tabindex="-1" role="dialog" aria-labelledby="tablefavourites"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="background-color: #5b5e5e;">
                <div class="modal-header">
                    <h5 class="modal-title" id="tablefavourites" style="color:white">Details</h5>
                </div>
                <div class="modal-body" style="background-color: #2e2c2c;">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary add_btn" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock%}